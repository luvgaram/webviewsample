<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WebView Sample</title>
</head>

<body>
    <h1>Recording Event From Web View - URL Loading</h1>
        <div id="main">
          <button id="cartButton">Record "Add to cart" Event</button></br>
          <button id="purchaseButton">Record "Add to cart" Event</button>
        </div>
    <script type="text/javascript">
      function recordEvent(eventName,eventValue) {
        var iframe = document.createElement("IFRAME");
        iframe.setAttribute("src", "af-event://inappevent?eventName="+eventName+"&eventValue="+eventValue);
        document.documentElement.appendChild(iframe);
        iframe = null;
      }
      var cartButton = document.getElementById("cartButton");
      cartButton.onclick = function(event) {
        var eventName = "af_add_to_cart";
        var eventValue = "{\"af_price\":\"9.99\", \"af_content_type\": \"url-loading\", \"af_content_id\": \"54321\", \"af_content\": \"item54321\", \"af_quantity\": \"1\"}";
        recordEvent(eventName, eventValue);
      }
      var purchaseButton = document.getElementById("purchaseButton");
      purchaseButton.onclick = function(event) {
        var eventName = "af_purchase";
        var eventValue = "{\"af_revenue\":\"9.99\", \"af_content_type\": \"loading\", \"af_content_id\": \"54321\"}";
      }
    </script>
</body>

</html>
